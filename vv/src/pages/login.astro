---
import Layout from "../layouts/Layout.astro";
import LoginForm from "../components/LoginForm.astro";

// const cookie: string = `${Astro.cookies.get(import.meta.env.COOKIE_NAME || "_Security_Login_")?.value}`;
// const d = hasProfile(cookie, import.meta.env.COOKIE_SECRET || "secret");

// if (d.success === true) {
//   return Astro.redirect("/");
// }

// const error = new URL(Astro.request.url).searchParams.get("error");
---

<Layout page="Login">
  <div class={`container ${error === "true" ? "error-active" : ""}`}>
    {
      error === "true" && (
        <div class="error-message">
          <p>Error: Could not login. Please verify your credentials.</p>
        </div>
      )
    }
    <div class="login">
      <h1>Login</h1>
      <LoginForm />
      <div class="quote">
        <center>
          <span>Email: user@example.com</span>
          <span>Password: 1234</span>
        </center>
      </div>
    </div>
  </div>
</Layout>
